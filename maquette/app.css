@import "tailwindcss";

/* Active daisyUI et limite les thèmes (sinon tu en charges 35) */
@plugin "daisyui" {
  themes: aqoras --default, dark --prefersdark;
}

/* Déclare le thème custom (daisyUI v5) */
@plugin "daisyui/theme" {
  name: "aqoras";
  default: true;

  /* Couleurs (lisibles v5) */
  --color-primary: #14545a;
  --color-secondary: #2b8a92;
  --color-accent: #f59e0b;
  --color-neutral: #0f172a;

  --color-base-100: #ffffff;
  --color-base-200: #f4f6f7;
  --color-base-300: #e6eaec;

  --color-info: #3b82f6;
  --color-success: #22c55e;
  --color-warning: #f59e0b;
  --color-error: #ef4444;

  /* Optionnel : aspect un peu plus “premium” */
  --radius-box: 1rem;
  --radius-btn: 999px;
  --radius-badge: 999px;
}

@layer base {
  html { scroll-behavior: smooth; }
  body {
    font-family: "Manrope", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  }
}

/* Minimal custom CSS kept only for:
   - hero video carousel (2 video layers + fade)
   - roadmap scroll progress (CSS vars driven by JS)
   - small state class toggles used by JS
*/

@layer components {
  /* header density when scrolling (JS toggles .is-solid) */
  .is-solid { @apply bg-base-100/95 border-base-300; }

  /* reveal animation (JS toggles .is-revealed) */
  [data-reveal] { @apply opacity-0 translate-y-3 blur-[2px] transition-all duration-500; }
  .is-revealed { @apply opacity-100 translate-y-0 blur-[0px]; }

  /* intro animation on hero (JS toggles body.is-loaded) */
  [data-intro] { opacity: 0; transform: translateY(18px); transition: opacity 900ms ease, transform 900ms ease; }
  body.is-loaded [data-intro] { opacity: 1; transform: translateY(0); }

  /* hero video carousel layers */
  .hero-media { position: absolute; inset: 0; z-index: 0; background: #000; pointer-events: none; }
  .hero-video { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 280ms ease; filter: saturate(.95) contrast(1.05) brightness(.9); }
  .hero-video.is-active { opacity: 1; }
  .hero-overlay { position: absolute; inset: 0; z-index: 2; background:
    radial-gradient(900px 500px at 25% 10%, rgba(0,0,0,.08), rgba(0,0,0,.18)),
    linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.45));
  }
  .hero-fade { position: absolute; inset: 0; z-index: 3; background: #000; opacity: 0; transition: opacity 280ms ease; }
  .hero-fade.is-on { opacity: 1; }

  /* soft video background (fonctionnement section) */
  .soft-video { position: absolute; inset: 0; opacity: .14; filter: blur(2px) saturate(.95); pointer-events: none; }
  .soft-video-media { width: 100%; height: 100%; object-fit: cover; }

  /* roadmap (scroll-driven progress) */
  .roadmap { --rail: 72px; --dotY: 0px; --progressPx: 0px; position: relative; }
  .roadmap-track { position: absolute; top: 0; bottom: 0; left: 50%; width: var(--rail); margin-left: calc(var(--rail) / -2); pointer-events: none; }
  .roadmap-line { position: absolute; top: 0; bottom: 0; left: 50%; width: 2px; margin-left: -1px; border-radius: 999px; background: color-mix(in oklab, oklch(var(--b2)) 65%, transparent); }
  .roadmap-progress { position: absolute; top: 0; left: 50%; width: 2px; margin-left: -1px; border-radius: 999px; height: var(--progressPx); background: linear-gradient(180deg, oklch(var(--p)), color-mix(in oklab, oklch(var(--p)) 35%, transparent)); }
  .roadmap-dot { position: absolute; top: 0; left: 50%; width: 14px; height: 14px; margin-left: -7px; border-radius: 999px; background: oklch(var(--p)); transform: translateY(var(--dotY)); box-shadow: 0 0 0 7px color-mix(in oklab, oklch(var(--p)) 18%, transparent); }

  .roadmap-rows { position: relative; z-index: 2; display: grid; gap: 18px; }
  .roadmap-row { display: grid; grid-template-columns: 1fr var(--rail) 1fr; align-items: start; }
  .row-pin { grid-column: 2; justify-self: center; margin-top: 22px; width: 10px; height: 10px; border-radius: 999px; background: color-mix(in oklab, oklch(var(--bc)) 30%, transparent); box-shadow: 0 0 0 6px color-mix(in oklab, oklch(var(--b1)) 70%, transparent); position: relative; }
  .roadmap-row.is-left .row-pin::before,
  .roadmap-row.is-right .row-pin::before { content: ""; position: absolute; top: 50%; width: calc(var(--rail) / 2); height: 2px; background: color-mix(in oklab, oklch(var(--bc)) 12%, transparent); transform: translateY(-1px); }
  .roadmap-row.is-left .row-pin::before { left: calc(var(--rail) / -2); }
  .roadmap-row.is-right .row-pin::before { right: calc(var(--rail) / -2); }

  .roadmap-row.is-left .step--road { grid-column: 1; justify-self: end; }
  .roadmap-row.is-right .step--road { grid-column: 3; justify-self: start; }

  .step--road { width: min(560px, 100%); opacity: 0; transform: translateY(14px); filter: blur(2px); transition: opacity .5s ease, transform .5s ease, filter .5s ease; }
  .roadmap-row.is-visible .step--road { opacity: 1; transform: translateY(0); filter: blur(0); }
  .roadmap-row.is-visible .row-pin { background: color-mix(in oklab, oklch(var(--p)) 70%, transparent); box-shadow: 0 0 0 7px color-mix(in oklab, oklch(var(--p)) 18%, transparent), 0 0 0 6px color-mix(in oklab, oklch(var(--b1)) 75%, transparent); }

  @media (max-width: 940px){
    .roadmap { --rail: 26px; }
    .roadmap-track { left: 14px; margin-left: 0; }
    .roadmap-row { grid-template-columns: var(--rail) 1fr; column-gap: 16px; }
    .row-spacer { display: none; }
    .row-pin { grid-column: 1; justify-self: center; }
    .step--road { grid-column: 2 !important; justify-self: stretch !important; width: 100%; }
    .roadmap-row.is-left .row-pin::before,
    .roadmap-row.is-right .row-pin::before { width: 18px; left: 100%; right: auto; }
  }
}

@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior: auto; }
  *{ animation: none !important; transition: none !important; }
  [data-reveal], [data-intro]{ opacity: 1 !important; transform: none !important; filter: none !important; }
}
